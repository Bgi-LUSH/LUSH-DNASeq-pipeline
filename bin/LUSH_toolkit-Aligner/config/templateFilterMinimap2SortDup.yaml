# update: 2024-01-26 V1.7.6
# 注释参数仅供示例使用, 此配置仅作模板使用，请勿在此文件直接更改，
name: FilterMinimap2SortDup
fq_reader:
  # 是否开启校验, 填true/false 默认为[true] BOOL
  check: true
# 过滤组件
filter:
  # PE文件用分号;分隔, 支持输入多组文件。rg信息可选，建议rg内容用英文双引号包裹
  i:
    - fq: /data/lush-dev/shijiashuai/data/fastq/CL100012105_L1_1_1_s1.fq;/data/lush-dev/shijiashuai/data/fastq/CL100012105_L1_1_2_s1.fq
      rg: "@RG\\tID:id-1\\tSM:sm-1\\tLB:lib1\\tPL:MGI"
    - fq: /data/lush-dev/shijiashuai/data/fastq/CL100012105_L1_1_1_s2.fq;/data/lush-dev/shijiashuai/data/fastq/CL100012105_L1_1_2_s2.fq
      rg: "@RG\\tID:id-2\\tSM:sm-2\\tLB:lib2\\tPL:MGI"
  # 输出结果的路径
  o: /data/lush-dev/shijiashuai/out/lush_aligner/FilterMinimap2SortDup/results
  # fastq文件读取的批次大小,默认为默认为[80000] INT
  batch_size: 80000
  # 线程数 默认为[1] INT
  t: 16
  # 短序列接头
  adapter:
    - AAGTCGGAGGCCAAGCGGTCTTAGGAAGACAA
    - AAGTCGGATCGTAGCCATGTCGTTCTGTGAGCCAAGGAGTTG
  # adapter's shortest match ratio(default: [0.5])
  # m: 0.8
  # the max mismatch number when match the adapter(default: [1])
  # b: 2
  # low quality threshold(default: [5])
  l: 12
  # low quality rate(default: [0.5])
  q: 0.5
  # mean quality threshold(default: [0])
  # w: 20
  # N rate threshold(default: [0.05])
  n: 0.1
  # A rate threshold, 0 means not filter(default: [0])
  # a: 0.9
  # quality offset, for example: illumina18 is 33, 0 means infered by program(default: [0])
  s: 33
  # 是否合并统计Fq, 默认：false
  d: false
  # 截取fastQ文件总共的前n条，浮点数，单位 M(1000 * 1000). 默认为0, 表示不进行截取
  c: 0
  # trim开关，填true或者false，默认值 [false]
  adapter_trim: false
  # trim的最小长度，INT 默认值 [30]
  min_read_len: 30
  # trim字符串：STRING，格式 "INT, INT, INT, INT" 默认值 ["0, 0, 0, 0"]
  trim: "0, 0, 0, 0"

# minimap2组件
minimap2:
  # 索引表路径
  index: /data/lush-dev/shijiashuai/data/index/minimap2/hg19/hg19_ref_pe.mmi
  # 指定比对算法。minimap2支持多种比对算法，包括map-ont、map-pb、asm5、asm10、asm20、splice和sr等。x参数用于指定使用哪种算法进行比对。
  x: sr
  # 指定worker的数量。默认值是3。实际线程数 thread = t * 10。
  t: 16

# 排序去重组件
sort_dup:
  # 同时生成Fragbam的线程数
  frag_bam_thread: 4
  # 一个Fragbam包含的bambatch个数
  frag_bam_size: 25
  # 输出结果的路径
  o: /data/lush-dev/shijiashuai/out/lush_aligner/FilterMinimap2SortDup/results/out.bam
  # 核心逻辑的线程数
  t: 64
  # 临时文件路径，需要有读写权限
  z: /data/lush-dev/shijiashuai/tmp
  # bam切分模式：0不切分，1按照匹配上和未匹配上切分，2按照染色体切分 [默认值：0]
  segment_mode: 0
  # 是否开启Bam去重 [默认值：true]
  is_mark_duplicate: true
  # tmp_sdb字段，0为原始bam格式，1为sdb压缩格式 [默认值：0]
  tmp_sdb: 0